(function(t){function a(a){for(var s,r,o=a[0],c=a[1],l=a[2],u=0,d=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&d.push(n[r][0]),n[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);p&&p(a);while(d.length)d.shift()();return i.push.apply(i,l||[]),e()}function e(){for(var t,a=0;a<i.length;a++){for(var e=i[a],s=!0,r=1;r<e.length;r++){var c=e[r];0!==n[c]&&(s=!1)}s&&(i.splice(a--,1),t=o(o.s=e[0]))}return t}var s={},n={app:0},i=[];function r(t){return o.p+"js/"+({about:"about"}[t]||t)+"."+{about:"c6a58d25"}[t]+".js"}function o(a){if(s[a])return s[a].exports;var e=s[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.e=function(t){var a=[],e=n[t];if(0!==e)if(e)a.push(e[2]);else{var s=new Promise((function(a,s){e=n[t]=[a,s]}));a.push(e[2]=s);var i,c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=r(t);var l=new Error;i=function(a){c.onerror=c.onload=null,clearTimeout(u);var e=n[t];if(0!==e){if(e){var s=a&&("load"===a.type?"missing":a.type),i=a&&a.target&&a.target.src;l.message="Loading chunk "+t+" failed.\n("+s+": "+i+")",l.name="ChunkLoadError",l.type=s,l.request=i,e[1](l)}n[t]=void 0}};var u=setTimeout((function(){i({type:"timeout",target:c})}),12e4);c.onerror=c.onload=i,document.head.appendChild(c)}return Promise.all(a)},o.m=t,o.c=s,o.d=function(t,a,e){o.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,a){if(1&a&&(t=o(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var s in t)o.d(e,s,function(a){return t[a]}.bind(null,s));return e},o.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(a,"a",a),a},o.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},o.p="",o.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=a,c=c.slice();for(var u=0;u<c.length;u++)a(c[u]);var p=l;i.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},5571:function(t,a,e){"use strict";var s=e("62dc"),n=e.n(s);n.a},"56d7":function(t,a,e){"use strict";e.r(a);var s=e("2b0e"),n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},i=[],r={data(){return{}},created(){},mounted(){},methods:{}},o=r,c=e("2877"),l=Object(c["a"])(o,n,i,!1,null,"abdcf624",null),u=l.exports,p=e("8c4f"),d=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"big"},[e("header",[e("van-icon",{attrs:{name:"arrow-left"},on:{click:function(a){return t.fan()}}}),e("span",{staticClass:"deng"},[t._v("密码登录")]),e("van-icon",{attrs:{name:"friends-o"}})],1),e("div",{ref:"box",staticClass:"box"},[e("div",{staticClass:"content"},[e("div",{staticClass:"login_phone"},[e("p",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.pho,expression:"pho"}],attrs:{type:"text",placeholder:"账号"},domProps:{value:t.pho},on:{input:function(a){a.target.composing||(t.pho=a.target.value)}}})]),e("p",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.pwd,expression:"pwd"}],attrs:{type:"password",placeholder:"密码"},domProps:{value:t.pwd},on:{input:function(a){a.target.composing||(t.pwd=a.target.value)}}})]),e("p",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.yan,expression:"yan"}],attrs:{type:"text",placeholder:"验证码"},domProps:{value:t.yan},on:{input:function(a){a.target.composing||(t.yan=a.target.value)}}}),e("img",{attrs:{src:t.imgList,alt:""}})]),e("span",{staticClass:"login_tips",attrs:{"data-v-ff83a60c":""}},[t._v(" 温馨提示：未注册过的账号，登录时将自动注册 ")]),e("span",{staticClass:"login_tips",attrs:{"data-v-ff83a60c":""}},[t._v(" 注册过的用户可凭账号密码登录 ")]),e("van-button",{attrs:{type:"primary",disabled:0==t.btn,size:"large"},on:{click:function(a){return t.dian()}}},[t._v("立即登录")])],1)])])])},h=[],m=e("565e"),v={components:{},data(){return{pho:"",pwd:"",yan:"",imgList:[]}},created(){},mounted(){this.$nextTick(()=>{setTimeout(()=>{this.bs=new m["a"](this.$refs.box,{probeType:3})},500)}),this.$axios.post("http://elm.cangdu.org/v1/captchas").then(({data:t})=>{console.log(t),this.imgList=t.code})},methods:{fan(){this.$router.go(-1)},setCookie(t,a,e){var s=new Date;s.setDate(s.getDate()+e),document.cookie=t+"="+a+"; expires="+s.toDateString()},dian(){let t=/^1(3[0-9]|5[0-3,5-9]|7[1-3,5-8]|8[0-9])\d{8}$/;t.test(this.pho)&&""!=this.pwd&&""!=this.yan&&this.$axios.post("http://elm.cangdu.org/v2/login",{username:this.pho,password:this.pwd,captcha_code:this.yan}).then(t=>{console.log(t),"OK"==t.statusText?this.$router.push("/home"):alert("失败，请重新登录")})}},computed:{btn(){return""!==this.pho&&""!==this.pwd&&""!==this.yan}}},f=v,_=(e("5571"),Object(c["a"])(f,d,h,!1,null,null,null)),g=_.exports,y=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("header",[e("span",[t._v("ele.cm")]),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.flag,expression:"!flag"}]}),e("van-icon",{directives:[{name:"show",rawName:"v-show",value:t.flag,expression:"flag"}],attrs:{name:"back-top"},on:{click:function(a){return t.toJump("zd")}}}),e("van-icon",{attrs:{name:"user-circle-o"},on:{click:function(a){return t.tiao()}}})],1),e("ul",{staticClass:"uli"},t._l(t.list,(function(a,s){return e("li",{key:s},[e("span",{on:{click:function(e){return t.toJump(a)}}},[t._v(t._s(a))])])})),0),e("div",{staticClass:"content"},[e("div",{staticClass:"nav_top"},[t._m(0),e("p",{staticClass:"p2"},[e("span",{staticClass:"bei",on:{click:function(a){return t.ass()}}},[t._v(" "+t._s(t.nameList.name)+" ")]),e("van-icon",{staticClass:"dian",attrs:{name:"arrow"}})],1)]),e("p",{staticClass:"p3"}),e("div",{staticClass:"hot_city"},[e("p",{staticClass:"hot_re"},[t._v("热门城市")]),e("ul",{staticClass:"ul"},t._l(t.hotList,(function(a,s){return e("li",{key:s,on:{click:function(e){return t.ass(a.id)}}},[t._v(" "+t._s(a.name)+" ")])})),0)]),t._l(t.list,(function(a,s){return e("div",{key:s,staticClass:"all_city"},[e("p",{ref:a,refInFor:!0,staticClass:"yt_index",attrs:{id:a}},[t._v(t._s(a))]),t._l(t.cityList[a],(function(a,s){return e("ol",{key:s},[e("li",[e("span",{on:{click:function(e){return t.ass(a.id)}}},[t._v(t._s(a.name))])])])}))],2)})),e("router-view")],2)])},b=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("p",{staticClass:"p1"},[e("span",{staticClass:"sp1"},[t._v("当前定位的城市：")]),e("span",{staticClass:"sp2"},[t._v("定位不准时，请在当前列表中选择")])])}],w={data(){return{nameList:[],hotList:[],cityList:{},list:[],flag:!1}},created(){},mounted(){this.ajaxname(),this.hotlist(),this.ajaxcity(),window.addEventListener("scroll",this.handleScrollx,!0)},methods:{async ajaxname(){let{data:t}=await this.$axios.get("http://elm.cangdu.org/v1/cities?type=guess");this.nameList=t},async hotlist(){let{data:t}=await this.$axios.get("http://elm.cangdu.org/v1/cities?type=hot");this.hotList=t},async ajaxcity(){let{data:t}=await this.$axios.get("http://elm.cangdu.org/v1/cities?type=group");this.cityList=t,this.list=Object.keys(t).sort(),this.$set(this.list)},async ass(t){console.log(t);let{data:a}=await this.$axios.get("http://elm.cangdu.org/v1/cities/"+t);console.log(a),this.$router.push({path:"/list",query:{data:a}})},tiao(){this.$router.push("/login")},toJump(t){document.body.scrollTop=document.documentElement.scrollTop="zd"!=t?this.$refs[t][0].offsetTop-50:0},handleScrollx(){window.pageYOffset>50?this.flag=!0:this.flag=!1}}},x=w,C=(e("c934"),Object(c["a"])(x,y,b,!1,null,"6396e467",null)),k=C.exports,$=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"big_box"},[e("header",[e("van-icon",{attrs:{name:"arrow-left"},on:{click:function(a){return t.fan()}}}),e("span",{staticClass:"deng"},[t._v(t._s(t.add))]),e("i",{staticClass:"el-icon-platform-eleme"})],1),e("div",{staticClass:"content"},[e("div",{staticClass:"search"},[e("van-search",{attrs:{placeholder:"请输入搜索关键词"},on:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.ass(a)}},model:{value:t.value,callback:function(a){t.value=a},expression:"value"}}),e("van-button",{attrs:{type:"info"},on:{click:function(a){return t.ajaxsearch()}}},[t._v("提交")])],1),e("div",{staticClass:"newlist"},[e("ol",t._l(t.arr,(function(a,s){return e("li",{key:s},[e("p",{staticClass:"item_p1",on:{click:function(e){return t.ajaxdetail(a.name)}}},[t._v(t._s(a.name))]),e("p",{staticClass:"item_p2"},[t._v(t._s(a.address))])])})),0)])])])},j=[],L={data(){return{add:"",value:"",arr:[]}},created(){},mounted(){this.add=this.$route.query.data.name},methods:{fan(){this.$router.go(-1)},async ajaxsearch(){let{data:t}=await this.$axios.get(`http://elm.cangdu.org/v1/pois?type=search&city_id=${this.$route.query.data.id}&keyword=${this.value}`);console.log(t),this.arr=t},async ajaxdetail(t){console.log(t),this.$router.push({path:"/detail"})}}},O=L,E=(e("cd96"),Object(c["a"])(O,$,j,!1,null,null,null)),P=E.exports,T=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"aox_box"},[e("header",[e("van-icon",{attrs:{name:"search"}}),e("span",{staticClass:"deng",on:{click:function(a){return t.city()}}},[t._v(t._s(t.content))]),e("van-icon",{attrs:{name:"manager-o"},on:{click:function(a){return t.my()}}})],1),e("div",{staticClass:"swiper"},[e("van-swipe",{staticClass:"my-swipe",attrs:{"indicator-color":"white"}},[e("van-swipe-item",[e("ul",{staticClass:"ul"},t._l(t.swiperList,(function(a,s){return e("li",{key:s},[e("img",{attrs:{src:"https://fuss10.elemecdn.com"+a.image_url,alt:""}}),e("p",{staticClass:"ax_p"},[t._v(t._s(a.title))])])})),0)]),e("van-swipe-item",[e("ul",{staticClass:"ul"},t._l(t.swiperList,(function(a,s){return e("li",{key:s},[e("img",{attrs:{src:"https://fuss10.elemecdn.com"+a.image_url,alt:""}}),e("p",{staticClass:"ax_p"},[t._v(t._s(a.title))])])})),0)])],1)],1),e("p",{staticClass:"fu_shop"},[e("van-icon",{attrs:{name:"apps-o"}}),e("span",[t._v("附近商家")])],1),e("div",{staticClass:"shop_list"},[e("ol",t._l(t.shopList,(function(a,s){return e("li",{key:s},[e("div",{staticClass:"img_list"},[e("img",{attrs:{src:"//elm.cangdu.org/img/"+a.image_path,alt:""}})]),e("div",{staticClass:"tet"},[e("h4",[e("span",{staticClass:"ap1"},[t._v("品牌")]),e("span",{staticClass:"ap2"},[t._v(t._s(a.name))]),e("span",{staticClass:"ap3"},[t._v("保 准 票")])]),e("p",{staticClass:"api_p1"},[e("van-rate",{model:{value:t.value,callback:function(a){t.value=a},expression:"value"}}),e("span",{staticClass:"ap4"},[t._v(t._s(a.rating))]),e("span",{staticClass:"ap5"},[t._v("蜂鸟专送")]),t._v(" / "),e("span",{staticClass:"ap6"},[t._v("准时送达")])],1),e("p",{staticClass:"api_p2"},[e("span",{staticClass:"ap7"},[t._v("￥"+t._s(a.float_minimum_order_amount)+"起送 / ")]),e("span",{staticClass:"ap7"},[t._v("配送费约￥"+t._s(a.float_delivery_fee))]),e("span",{staticClass:"ap9"},[t._v(t._s(a.distance)+" / ")]),e("span",{staticClass:"ap10"},[t._v(t._s(a.order_lead_time))])])])])})),0)]),e("footer",[e("van-tabbar",{attrs:{route:""}},[e("van-tabbar-item",{attrs:{replace:"",icon:"location-o"}},[t._v(" 外卖 ")]),e("van-tabbar-item",{attrs:{replace:"",icon:"search"}},[t._v(" 搜索 ")]),e("van-tabbar-item",{attrs:{replace:"",icon:"bar-chart-o"}},[t._v(" 订单 ")]),e("van-tabbar-item",{attrs:{replace:"",icon:"user-circle-o"}},[t._v(" 我的 ")])],1)],1)])},S=[],J={data(){return{content:"",swiperList:[],shopList:[],value:5}},created(){},mounted(){this.ajaximg(),this.ajaxswiper(),this.ajaxshop()},methods:{async ajaximg(){let{data:t}=await this.$axios.get("http://elm.cangdu.org/v2/pois/31.273193,121.509774");this.content=t.name},async ajaxswiper(){let{data:t}=await this.$axios.get("http://elm.cangdu.org/v2/index_entry?geohash=45.803133,126.53532&group_type=1&flags[]=F");this.swiperList=t},async ajaxshop(){let{data:t}=await this.$axios.get("http://elm.cangdu.org/shopping/restaurants?latitude=45.803133&longitude=126.53532&offset=0&limit=20&extras[]=activities&keyword=&restaurant_category_id=&restaurant_category_ids[]=&order_by=&delivery_mode[]=");console.log(t),this.shopList=t},city(){this.$router.push("/home")},my(){this.$router.push("/my")}}},N=J,q=(e("61af"),Object(c["a"])(N,T,S,!1,null,null,null)),D=q.exports,M=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[t._v(" 我的页面 ")])},z=[],A={data(){return{}},created(){},mounted(){},methods:{}},F=A,I=Object(c["a"])(F,M,z,!1,null,"2807c3cc",null),K=I.exports;s["default"].use(p["a"]);const Y=[{path:"/",redirect:"home"},{path:"/home",name:"home",component:k},{path:"/login",name:"login",component:g},{path:"/list",name:"list",component:P},{path:"/detail",name:"detail",component:D},{path:"/my",name:"my",component:K},{path:"/about",name:"About",component:function(){return e.e("about").then(e.bind(null,"f820"))}},{path:"/:id",redirect:"home"}],B=new p["a"]({routes:Y});var G=B,H=e("2f62");s["default"].use(H["a"]);var Q=new H["a"].Store({state:{},mutations:{},actions:{},modules:{}}),R=e("bc3a"),U=e.n(R),V=e("b970"),W=(e("157a"),e("5596")),X=e("2bb1"),Z=e("b705"),tt=e.n(Z);e("3880");s["default"].use(V["a"]),s["default"].use(W["a"]),s["default"].use(X["a"]),s["default"].use(tt.a),s["default"].prototype.$axios=U.a,s["default"].config.productionTip=!1,new s["default"]({router:G,store:Q,render:function(t){return t(u)}}).$mount("#app")},"61af":function(t,a,e){"use strict";var s=e("bd8e"),n=e.n(s);n.a},"62dc":function(t,a,e){},"943b":function(t,a,e){},b4f6:function(t,a,e){},bd8e:function(t,a,e){},c934:function(t,a,e){"use strict";var s=e("943b"),n=e.n(s);n.a},cd96:function(t,a,e){"use strict";var s=e("b4f6"),n=e.n(s);n.a}});
//# sourceMappingURL=app.eeb77e6a.js.map