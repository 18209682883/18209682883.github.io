(function(t){function e(e){for(var s,r,o=e[0],c=e[1],l=e[2],u=0,d=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&d.push(n[r][0]),n[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);p&&p(e);while(d.length)d.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,r=1;r<a.length;r++){var c=a[r];0!==n[c]&&(s=!1)}s&&(i.splice(e--,1),t=o(o.s=a[0]))}return t}var s={},n={app:0},i=[];function r(t){return o.p+"js/"+({about:"about"}[t]||t)+"."+{about:"c6a58d25"}[t]+".js"}function o(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.e=function(t){var e=[],a=n[t];if(0!==a)if(a)e.push(a[2]);else{var s=new Promise((function(e,s){a=n[t]=[e,s]}));e.push(a[2]=s);var i,c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=r(t);var l=new Error;i=function(e){c.onerror=c.onload=null,clearTimeout(u);var a=n[t];if(0!==a){if(a){var s=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+s+": "+i+")",l.name="ChunkLoadError",l.type=s,l.request=i,a[1](l)}n[t]=void 0}};var u=setTimeout((function(){i({type:"timeout",target:c})}),12e4);c.onerror=c.onload=i,document.head.appendChild(c)}return Promise.all(e)},o.m=t,o.c=s,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(a,s,function(e){return t[e]}.bind(null,s));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var p=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},1318:function(t,e,a){"use strict";var s=a("fcff"),n=a.n(s);n.a},5571:function(t,e,a){"use strict";var s=a("62dc"),n=a.n(s);n.a},"56d7":function(t,e,a){"use strict";a.r(e);var s=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},i=[],r={data(){return{}},created(){},mounted(){},methods:{}},o=r,c=a("2877"),l=Object(c["a"])(o,n,i,!1,null,"abdcf624",null),u=l.exports,p=a("8c4f"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"big"},[a("header",[a("van-icon",{attrs:{name:"arrow-left"},on:{click:function(e){return t.fan()}}}),a("span",{staticClass:"deng"},[t._v("密码登录")]),a("van-icon",{attrs:{name:"friends-o"}})],1),a("div",{ref:"box",staticClass:"box"},[a("div",{staticClass:"content"},[a("div",{staticClass:"login_phone"},[a("p",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.pho,expression:"pho"}],attrs:{type:"text",placeholder:"账号"},domProps:{value:t.pho},on:{input:function(e){e.target.composing||(t.pho=e.target.value)}}})]),a("p",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.pwd,expression:"pwd"}],attrs:{type:"password",placeholder:"密码"},domProps:{value:t.pwd},on:{input:function(e){e.target.composing||(t.pwd=e.target.value)}}})]),a("p",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.yan,expression:"yan"}],attrs:{type:"text",placeholder:"验证码"},domProps:{value:t.yan},on:{input:function(e){e.target.composing||(t.yan=e.target.value)}}}),a("img",{attrs:{src:t.imgList,alt:""}})]),a("span",{staticClass:"login_tips",attrs:{"data-v-ff83a60c":""}},[t._v(" 温馨提示：未注册过的账号，登录时将自动注册 ")]),a("span",{staticClass:"login_tips",attrs:{"data-v-ff83a60c":""}},[t._v(" 注册过的用户可凭账号密码登录 ")]),a("van-button",{attrs:{type:"primary",disabled:0==t.btn,size:"large"},on:{click:function(e){return t.dian()}}},[t._v("立即登录")])],1)])])])},h=[],m=a("565e"),v={components:{},data(){return{pho:"",pwd:"",yan:"",imgList:[]}},created(){},mounted(){this.$nextTick(()=>{setTimeout(()=>{this.bs=new m["a"](this.$refs.box,{probeType:3})},500)}),this.$axios.post("http://elm.cangdu.org/v1/captchas").then(({data:t})=>{console.log(t),this.imgList=t.code})},methods:{fan(){this.$router.go(-1)},setCookie(t,e,a){var s=new Date;s.setDate(s.getDate()+a),document.cookie=t+"="+e+"; expires="+s.toDateString()},dian(){let t=/^1(3[0-9]|5[0-3,5-9]|7[1-3,5-8]|8[0-9])\d{8}$/;t.test(this.pho)&&""!=this.pwd&&""!=this.yan&&this.$axios.post("http://elm.cangdu.org/v2/login",{username:this.pho,password:this.pwd,captcha_code:this.yan}).then(t=>{console.log(t),"OK"==t.statusText?this.$router.push("/home"):alert("失败，请重新登录")})}},computed:{btn(){return""!==this.pho&&""!==this.pwd&&""!==this.yan}}},f=v,_=(a("5571"),Object(c["a"])(f,d,h,!1,null,null,null)),g=_.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("header",[a("span",[t._v("ele.cm")]),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.flag,expression:"!flag"}]}),a("van-icon",{directives:[{name:"show",rawName:"v-show",value:t.flag,expression:"flag"}],attrs:{name:"back-top"},on:{click:function(e){return t.toJump("zd")}}}),a("van-icon",{attrs:{name:"user-circle-o"},on:{click:function(e){return t.tiao()}}})],1),a("ul",{staticClass:"uli"},t._l(t.list,(function(e,s){return a("li",{key:s},[a("span",{on:{click:function(a){return t.toJump(e)}}},[t._v(t._s(e))])])})),0),a("div",{staticClass:"content"},[a("div",{staticClass:"nav_top"},[t._m(0),a("p",{staticClass:"p2"},[a("span",{staticClass:"bei",on:{click:function(e){return t.ass()}}},[t._v(" "+t._s(t.nameList.name)+" ")]),a("van-icon",{staticClass:"dian",attrs:{name:"arrow"}})],1)]),a("p",{staticClass:"p3"}),a("div",{staticClass:"hot_city"},[a("p",{staticClass:"hot_re"},[t._v("热门城市")]),a("ul",{staticClass:"ul"},t._l(t.hotList,(function(e,s){return a("li",{key:s,on:{click:function(a){return t.ass(e.id)}}},[t._v(" "+t._s(e.name)+" ")])})),0)]),t._l(t.list,(function(e,s){return a("div",{key:s,staticClass:"all_city"},[a("p",{ref:e,refInFor:!0,staticClass:"yt_index",attrs:{id:e}},[t._v(t._s(e))]),t._l(t.cityList[e],(function(e,s){return a("ol",{key:s},[a("li",[a("span",{on:{click:function(a){return t.ass(e.id)}}},[t._v(t._s(e.name))])])])}))],2)})),a("router-view")],2)])},b=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"p1"},[a("span",{staticClass:"sp1"},[t._v("当前定位的城市：")]),a("span",{staticClass:"sp2"},[t._v("定位不准时，请在当前列表中选择")])])}],w={data(){return{nameList:[],hotList:[],cityList:{},list:[],flag:!1}},created(){},mounted(){this.ajaxname(),this.hotlist(),this.ajaxcity(),window.addEventListener("scroll",this.handleScrollx,!0)},methods:{async ajaxname(){let{data:t}=await this.$axios.get("http://elm.cangdu.org/v1/cities?type=guess");this.nameList=t},async hotlist(){let{data:t}=await this.$axios.get("http://elm.cangdu.org/v1/cities?type=hot");this.hotList=t},async ajaxcity(){let{data:t}=await this.$axios.get("http://elm.cangdu.org/v1/cities?type=group");this.cityList=t,this.list=Object.keys(t).sort(),this.$set(this.list)},async ass(t){console.log(t);let{data:e}=await this.$axios.get("http://elm.cangdu.org/v1/cities/"+t);console.log(e),this.$router.push({path:"/list",query:{data:e}})},tiao(){this.$router.push("/login")},toJump(t){document.body.scrollTop=document.documentElement.scrollTop="zd"!=t?this.$refs[t][0].offsetTop-50:0},handleScrollx(){window.pageYOffset>50?this.flag=!0:this.flag=!1}}},x=w,C=(a("c934"),Object(c["a"])(x,y,b,!1,null,"6396e467",null)),k=C.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"big_box"},[a("header",[a("van-icon",{attrs:{name:"arrow-left"},on:{click:function(e){return t.fan()}}}),a("span",{staticClass:"deng"},[t._v(t._s(t.add))]),a("i",{staticClass:"el-icon-platform-eleme"})],1),a("div",{staticClass:"content"},[a("div",{staticClass:"search"},[a("van-search",{attrs:{placeholder:"请输入搜索关键词"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.ass(e)}},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),a("van-button",{attrs:{type:"info"},on:{click:function(e){return t.ajaxsearch()}}},[t._v("提交")])],1),a("div",{staticClass:"newlist"},[a("ol",t._l(t.arr,(function(e,s){return a("li",{key:s},[a("p",{staticClass:"item_p1",on:{click:function(a){return t.ajaxdetail(e.name)}}},[t._v(t._s(e.name))]),a("p",{staticClass:"item_p2"},[t._v(t._s(e.address))])])})),0)])])])},j=[],O={data(){return{add:"",value:"",arr:[]}},created(){},mounted(){this.add=this.$route.query.data.name},methods:{fan(){this.$router.go(-1)},async ajaxsearch(){let{data:t}=await this.$axios.get(`http://elm.cangdu.org/v1/pois?type=search&city_id=${this.$route.query.data.id}&keyword=${this.value}`);console.log(t),this.arr=t},async ajaxdetail(t){console.log(t),this.$router.push({path:"/detail/d"})}}},L=O,E=(a("cd96"),Object(c["a"])(L,$,j,!1,null,null,null)),S=E.exports,P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("router-view"),a("footer",[a("van-tabbar",{attrs:{route:""}},[a("van-tabbar-item",{attrs:{replace:"",to:"/d",icon:"location-o"}},[t._v(" 外卖 ")]),a("van-tabbar-item",{attrs:{replace:"",to:"/a",icon:"search"}},[t._v(" 搜索 ")]),a("van-tabbar-item",{attrs:{replace:"",to:"/b",icon:"bar-chart-o"}},[t._v(" 订单 ")]),a("van-tabbar-item",{attrs:{replace:"",to:"/c",icon:"user-circle-o"}},[t._v(" 我的 ")])],1)],1)],1)},T=[],D={data(){return{}},created(){},mounted(){},methods:{}},z=D,J=Object(c["a"])(z,P,T,!1,null,null,null),N=J.exports,q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v(" 我的页面 ")])},M=[],A={data(){return{}},created(){},mounted(){},methods:{}},F=A,I=Object(c["a"])(F,q,M,!1,null,"2807c3cc",null),B=I.exports,K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("header",[a("van-icon",{attrs:{name:"arrow-left"}}),a("span",{staticClass:"deng"},[t._v("搜索")]),a("i",{staticClass:"el-icon-platform-eleme"})],1),a("div",{staticClass:"content"},[a("div",{staticClass:"search"},[a("van-search",{attrs:{placeholder:"请输入搜索关键词"}}),a("van-button",{attrs:{type:"info"}},[t._v("提交")])],1)])])},Y=[],G={data(){return{}},created(){},mounted(){},methods:{}},H=G,Q=Object(c["a"])(H,K,Y,!1,null,null,null),R=Q.exports,U=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},V=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v("暂时没有什么订单")])])}],W={data(){return{}},created(){},mounted(){},methods:{}},X=W,Z=Object(c["a"])(X,U,V,!1,null,"ea2d82ec",null),tt=Z.exports,et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box"},[a("van-sticky",[a("div",[a("router-link",{attrs:{to:"/pb"}},[t._v("〈")]),a("h2",[t._v("我的")])],1)]),a("div",{staticClass:"user"},[a("img",{attrs:{src:"//elm.cangdu.org/img/default.jpg",alt:""}}),a("div",[a("p",[t._v(t._s(t.user.username))]),a("span",[a("van-icon",{attrs:{size:"20",name:"graphic"}}),t._v("暂无绑定手机号")],1)]),a("p",[t._v(">")])]),a("ul",{staticClass:"message"},[t._m(0),a("li",[a("p",[a("span",{staticStyle:{color:"#ff5f3e"}},[t._v(t._s(t.user.gift_amount))]),t._v("个")]),a("span",[t._v("我的优惠")])]),t._m(1)]),a("img",{attrs:{src:"5bc7551845977d4fb18e9d91587af3d1.png",alt:""}}),a("ul",{staticClass:"footer"},t._l(t.foot,(function(e){return a("li",{key:e.id,class:e.flag?"active":"",on:{click:function(a){return t.dian(e.id)}}},[a("van-icon",{attrs:{size:"26",name:e.type}}),a("span",[t._v(t._s(e.text))])],1)})),0)],1)},at=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("p",[a("span",{staticStyle:{color:"#f90"}},[t._v("0.00")]),t._v("元")]),a("span",[t._v("我的余额")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("p",[a("span",{staticStyle:{color:"#6ac20b"}},[t._v("0")]),t._v("分")]),a("span",[t._v("我的积分")])])}],st={name:"demo",props:{},components:{},data(){return{user:{},id:sessionStorage.getItem("token"),foot:[{text:"外卖",type:"phone-o",id:0,flag:!1},{text:"搜索",type:"eye-o",id:1,flag:!1},{text:"订单",type:"orders-o",id:2,flag:!1},{text:"我的",type:"manager",id:3,flag:!0}]}},computed:{},watch:{},methods:{dian(t){this.foot[t].flag=!0,this.foot.forEach(e=>{e.id!=t&&(e.flag=!1)}),0==t&&this.$router.push("/site")}},async mounted(){let{data:t}=await this.$http.get("http://elm.cangdu.org/v1/user?user_id="+this.id);this.user=t,console.log(this.user)},created(){}},nt=st,it=(a("1318"),Object(c["a"])(nt,et,at,!1,null,"0ce508b0",null)),rt=it.exports,ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("router-view"),a("header",[a("van-icon",{attrs:{name:"search"}}),a("span",{staticClass:"deng",on:{click:function(e){return t.city()}}},[t._v(t._s(t.content))]),a("van-icon",{attrs:{name:"manager-o"}})],1),a("div",{staticClass:"swiper"},[a("van-swipe",{staticClass:"my-swipe",attrs:{"indicator-color":"white"}},[a("van-swipe-item",[a("ul",{staticClass:"ul"},t._l(t.swiperList,(function(e,s){return a("li",{key:s},[a("img",{attrs:{src:"https://fuss10.elemecdn.com"+e.image_url,alt:""}}),a("p",{staticClass:"ax_p"},[t._v(t._s(e.title))])])})),0)]),a("van-swipe-item",[a("ul",{staticClass:"ul"},t._l(t.swiperList,(function(e,s){return a("li",{key:s},[a("img",{attrs:{src:"https://fuss10.elemecdn.com"+e.image_url,alt:""}}),a("p",{staticClass:"ax_p"},[t._v(t._s(e.title))])])})),0)])],1)],1),a("p",{staticClass:"fu_shop"},[a("van-icon",{attrs:{name:"apps-o"}}),a("span",[t._v("附近商家")])],1),a("div",{staticClass:"shop_list"},[a("ol",t._l(t.shopList,(function(e,s){return a("li",{key:s},[a("div",{staticClass:"img_list"},[a("img",{attrs:{src:"//elm.cangdu.org/img/"+e.image_path,alt:""}})]),a("div",{staticClass:"tet"},[a("h4",[a("span",{staticClass:"ap1"},[t._v("品牌")]),a("span",{staticClass:"ap2"},[t._v(t._s(e.name))]),a("span",{staticClass:"ap3"},[t._v("保 准 票")])]),a("p",{staticClass:"api_p1"},[a("van-rate",{model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),a("span",{staticClass:"ap4"},[t._v(t._s(e.rating))]),a("span",{staticClass:"ap5"},[t._v("蜂鸟专送")]),t._v(" / "),a("span",{staticClass:"ap6"},[t._v("准时送达")])],1),a("p",{staticClass:"api_p2"},[a("span",{staticClass:"ap7"},[t._v("￥"+t._s(e.float_minimum_order_amount)+"起送 / ")]),a("span",{staticClass:"ap7"},[t._v("配送费约￥"+t._s(e.float_delivery_fee))]),a("span",{staticClass:"ap9"},[t._v(t._s(e.distance)+" / ")]),a("span",{staticClass:"ap10"},[t._v(t._s(e.order_lead_time))])])])])})),0)])],1)},ct=[],lt={data(){return{content:"",swiperList:[],shopList:[],value:5}},created(){},mounted(){this.ajaximg(),this.ajaxswiper(),this.ajaxshop()},methods:{async ajaximg(){let{data:t}=await this.$axios.get("http://elm.cangdu.org/v2/pois/31.273193,121.509774");this.content=t.name},async ajaxswiper(){let{data:t}=await this.$axios.get("http://elm.cangdu.org/v2/index_entry?geohash=45.803133,126.53532&group_type=1&flags[]=F");this.swiperList=t},async ajaxshop(){let{data:t}=await this.$axios.get("http://elm.cangdu.org/shopping/restaurants?latitude=45.803133&longitude=126.53532&offset=0&limit=20&extras[]=activities&keyword=&restaurant_category_id=&restaurant_category_ids[]=&order_by=&delivery_mode[]=");console.log(t),this.shopList=t},city(){this.$router.push("/home")}}},ut=lt,pt=(a("f216"),Object(c["a"])(ut,ot,ct,!1,null,null,null)),dt=pt.exports;s["default"].use(p["a"]);const ht=[{path:"/",redirect:"home"},{path:"/home",name:"home",component:k},{path:"/login",name:"login",component:g},{path:"/list",name:"list",component:S},{path:"/detail",name:"detail",component:N,children:[{path:"/a",name:"A",component:R},{path:"/b",name:"B",component:tt},{path:"/c",name:"C",component:rt},{path:"/d",name:"D",component:dt},{path:"/detail/d",name:"D",component:dt}]},{path:"/my",name:"my",component:B},{path:"/about",name:"About",component:function(){return a.e("about").then(a.bind(null,"f820"))}},{path:"/:id",redirect:"home"}],mt=new p["a"]({routes:ht});var vt=mt,ft=a("2f62");s["default"].use(ft["a"]);var _t=new ft["a"].Store({state:{},mutations:{},actions:{},modules:{}}),gt=a("bc3a"),yt=a.n(gt),bt=a("b970"),wt=(a("157a"),a("5596")),xt=a("2bb1"),Ct=a("b705"),kt=a.n(Ct);a("3880");s["default"].use(bt["a"]),s["default"].use(wt["a"]),s["default"].use(xt["a"]),s["default"].use(kt.a),s["default"].prototype.$axios=yt.a,s["default"].config.productionTip=!1,new s["default"]({router:vt,store:_t,render:function(t){return t(u)}}).$mount("#app")},"62dc":function(t,e,a){},"943b":function(t,e,a){},b4f6:function(t,e,a){},c934:function(t,e,a){"use strict";var s=a("943b"),n=a.n(s);n.a},cd96:function(t,e,a){"use strict";var s=a("b4f6"),n=a.n(s);n.a},e1f0:function(t,e,a){},f216:function(t,e,a){"use strict";var s=a("e1f0"),n=a.n(s);n.a},fcff:function(t,e,a){}});
//# sourceMappingURL=app.8e985d65.js.map